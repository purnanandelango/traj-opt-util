function [jac_t_dxdt,jac_x_dxdt] = dyn_func_inert_jac(t,x,astro)
%DYN_FUNC_INERT_JAC
%    [JAC_T_DXDT,JAC_X_DXDT] = DYN_FUNC_INERT_JAC(IN1,IN2,IN3,IN4,IN5,GME,GMM,GMS)

%    This function was generated by the Symbolic Math Toolbox version 9.2.
%    07-Feb-2023 18:22:29

t_ephm      = astro.start_JD + t*astro.t_star/(24*3600);     % [day]
ephm_state  = plant.sclunar.ephemeris_state(0,t_ephm,astro.Earth,astro.Moon);
rE          = ephm_state(1:3)/astro.l_star;            % Normalized Earth position
vE          = ephm_state(4:6)/astro.v_star;            % Normalized Earth velocity
ephm_state  = plant.sclunar.ephemeris_state(0,t_ephm,astro.Sun,astro.Moon);
rS          = ephm_state(1:3)/astro.l_star;            % Normalized Sun position
vS          = ephm_state(4:6)/astro.l_star;            % Normalized Sun velocity
GME         = astro.ndGM_Earth;
GMM         = astro.ndGM_Moon;
GMS         = astro.ndGM_Sun;

rE_1 = rE(1,:);
rE_2 = rE(2,:);
rE_3 = rE(3,:);
rS_1 = rS(1,:);
rS_2 = rS(2,:);
rS_3 = rS(3,:);
rsc_1 = x(1,:);
rsc_2 = x(2,:);
rsc_3 = x(3,:);
vE_1 = vE(1,:);
vE_2 = vE(2,:);
vE_3 = vE(3,:);
vS_1 = vS(1,:);
vS_2 = vS(2,:);
vS_3 = vS(3,:);
t2 = real(rE_1);
t3 = real(rE_2);
t4 = real(rE_3);
t5 = real(rS_1);
t6 = real(rS_2);
t7 = real(rS_3);
t8 = real(rsc_1);
t9 = real(rsc_2);
t10 = real(rsc_3);
t11 = abs(rE_1);
t12 = abs(rE_2);
t13 = abs(rE_3);
t14 = abs(rS_1);
t15 = abs(rS_2);
t16 = abs(rS_3);
t17 = abs(rsc_1);
t18 = abs(rsc_2);
t19 = abs(rsc_3);
t38 = 1.0./rE_1;
t39 = 1.0./rE_2;
t40 = 1.0./rE_3;
t41 = 1.0./rS_1;
t42 = 1.0./rS_2;
t43 = 1.0./rS_3;
t44 = -rsc_1;
t45 = -rsc_2;
t46 = -rsc_3;
t47 = 1.0./rsc_1;
t48 = 1.0./rsc_2;
t49 = 1.0./rsc_3;
t20 = t2.*2.0;
t21 = t3.*2.0;
t22 = t4.*2.0;
t23 = t5.*2.0;
t24 = t6.*2.0;
t25 = t7.*2.0;
t26 = t8.*2.0;
t27 = t9.*2.0;
t28 = t10.*2.0;
t29 = t11.^2;
t30 = t12.^2;
t31 = t13.^2;
t32 = t14.^2;
t33 = t15.^2;
t34 = t16.^2;
t35 = t17.^2;
t36 = t18.^2;
t37 = t19.^2;
t65 = rE_1+t44;
t66 = rE_2+t45;
t67 = rE_3+t46;
t68 = rS_1+t44;
t69 = rS_2+t45;
t70 = rS_3+t46;
t50 = -t26;
t51 = -t27;
t52 = -t28;
t53 = rE_1.*t35;
t54 = rsc_1.*t29;
t55 = rE_2.*t36;
t56 = rsc_2.*t30;
t57 = rE_3.*t37;
t58 = rsc_3.*t31;
t59 = rS_1.*t35;
t60 = rsc_1.*t32;
t61 = rS_2.*t36;
t62 = rsc_2.*t33;
t63 = rS_3.*t37;
t64 = rsc_3.*t34;
t71 = abs(t65);
t72 = abs(t66);
t73 = abs(t67);
t74 = abs(t68);
t75 = abs(t69);
t76 = abs(t70);
t77 = t29.*t44;
t78 = t30.*t45;
t79 = t31.*t46;
t80 = t32.*t44;
t81 = t33.*t45;
t82 = t34.*t46;
t95 = t29+t30+t31;
t96 = t32+t33+t34;
t97 = t35+t36+t37;
t83 = t71.^2;
t84 = t72.^2;
t85 = t73.^2;
t86 = t74.^2;
t87 = t75.^2;
t88 = t76.^2;
t89 = t20+t50;
t90 = t21+t51;
t91 = t22+t52;
t92 = t23+t50;
t93 = t24+t51;
t94 = t25+t52;
t98 = t53+t77;
t99 = t55+t78;
t100 = t57+t79;
t101 = t59+t80;
t102 = t61+t81;
t103 = t63+t82;
t104 = 1.0./t95.^(3.0./2.0);
t105 = 1.0./t95.^(5.0./2.0);
t106 = 1.0./t96.^(3.0./2.0);
t107 = 1.0./t96.^(5.0./2.0);
t108 = 1.0./t97.^(3.0./2.0);
t109 = 1.0./t97.^(5.0./2.0);
t110 = GMM.*t108;
t112 = t83+t84+t85;
t113 = t86+t87+t88;
t114 = t38.*t47.*t65.*t98;
t115 = t39.*t48.*t66.*t99;
t116 = t40.*t49.*t67.*t100;
t117 = t41.*t47.*t68.*t101;
t118 = t42.*t48.*t69.*t102;
t119 = t43.*t49.*t70.*t103;
t111 = -t110;
t120 = -t114;
t121 = -t115;
t122 = -t116;
t123 = -t117;
t124 = -t118;
t125 = -t119;
t126 = 1.0./t112.^(3.0./2.0);
t127 = 1.0./t112.^(5.0./2.0);
t128 = 1.0./t113.^(3.0./2.0);
t129 = 1.0./t113.^(5.0./2.0);
t130 = -t126;
t131 = -t128;
t132 = 1.0./sqrt(t120);
t133 = 1.0./sqrt(t121);
t134 = 1.0./sqrt(t122);
t135 = 1.0./sqrt(t123);
t136 = 1.0./sqrt(t124);
t137 = 1.0./sqrt(t125);
t138 = t65.*t71.*t89.*t127.*t132.*(3.0./2.0);
t139 = t66.*t72.*t90.*t127.*t133.*(3.0./2.0);
t140 = t67.*t73.*t91.*t127.*t134.*(3.0./2.0);
t141 = t68.*t74.*t92.*t129.*t135.*(3.0./2.0);
t142 = t69.*t75.*t93.*t129.*t136.*(3.0./2.0);
t143 = t70.*t76.*t94.*t129.*t137.*(3.0./2.0);
mt1 = [0.0;0.0;0.0;-GME.*vE_1.*(t104+t130+t138-rE_1.*t2.*t105.*3.0)-GMS.*vS_1.*(t106+t131+t141-rS_1.*t5.*t107.*3.0)+GME.*vE_2.*(rE_1.*t3.*t105.*3.0-t65.*t72.*t90.*t127.*t133.*(3.0./2.0))+GME.*vE_3.*(rE_1.*t4.*t105.*3.0-t65.*t73.*t91.*t127.*t134.*(3.0./2.0))+GMS.*vS_2.*(rS_1.*t6.*t107.*3.0-t68.*t75.*t93.*t129.*t136.*(3.0./2.0))+GMS.*vS_3.*(rS_1.*t7.*t107.*3.0-t68.*t76.*t94.*t129.*t137.*(3.0./2.0))];
mt2 = [-GME.*vE_2.*(t104+t130+t139-rE_2.*t3.*t105.*3.0)-GMS.*vS_2.*(t106+t131+t142-rS_2.*t6.*t107.*3.0)+GME.*vE_1.*(rE_2.*t2.*t105.*3.0-t66.*t71.*t89.*t127.*t132.*(3.0./2.0))+GME.*vE_3.*(rE_2.*t4.*t105.*3.0-t66.*t73.*t91.*t127.*t134.*(3.0./2.0))+GMS.*vS_1.*(rS_2.*t5.*t107.*3.0-t69.*t74.*t92.*t129.*t135.*(3.0./2.0))+GMS.*vS_3.*(rS_2.*t7.*t107.*3.0-t69.*t76.*t94.*t129.*t137.*(3.0./2.0))];
mt3 = [-GME.*vE_3.*(t104+t130+t140-rE_3.*t4.*t105.*3.0)-GMS.*vS_3.*(t106+t131+t143-rS_3.*t7.*t107.*3.0)+GME.*vE_1.*(rE_3.*t2.*t105.*3.0-t67.*t71.*t89.*t127.*t132.*(3.0./2.0))+GME.*vE_2.*(rE_3.*t3.*t105.*3.0-t67.*t72.*t90.*t127.*t133.*(3.0./2.0))+GMS.*vS_1.*(rS_3.*t5.*t107.*3.0-t70.*t74.*t92.*t129.*t135.*(3.0./2.0))+GMS.*vS_2.*(rS_3.*t6.*t107.*3.0-t70.*t75.*t93.*t129.*t136.*(3.0./2.0))];
jac_t_dxdt = [mt1;mt2;mt3];
if nargout > 1
    mt4 = [0.0,0.0,0.0,t111-GME.*(t126-t138)-GMS.*(t128-t141)+GMM.*rsc_1.*t8.*t109.*3.0,GMM.*rsc_2.*t8.*t109.*3.0+GME.*t66.*t71.*t89.*t127.*t132.*(3.0./2.0)+GMS.*t69.*t74.*t92.*t129.*t135.*(3.0./2.0),GMM.*rsc_3.*t8.*t109.*3.0+GME.*t67.*t71.*t89.*t127.*t132.*(3.0./2.0)+GMS.*t70.*t74.*t92.*t129.*t135.*(3.0./2.0),0.0,0.0,0.0,GMM.*rsc_1.*t9.*t109.*3.0+GME.*t65.*t72.*t90.*t127.*t133.*(3.0./2.0)+GMS.*t68.*t75.*t93.*t129.*t136.*(3.0./2.0),t111-GME.*(t126-t139)-GMS.*(t128-t142)+GMM.*rsc_2.*t9.*t109.*3.0,GMM.*rsc_3.*t9.*t109.*3.0+GME.*t67.*t72.*t90.*t127.*t133.*(3.0./2.0)+GMS.*t70.*t75.*t93.*t129.*t136.*(3.0./2.0),0.0,0.0,0.0,GMM.*rsc_1.*t10.*t109.*3.0+GME.*t65.*t73.*t91.*t127.*t134.*(3.0./2.0)+GMS.*t68.*t76.*t94.*t129.*t137.*(3.0./2.0)];
    mt5 = [GMM.*rsc_2.*t10.*t109.*3.0+GME.*t66.*t73.*t91.*t127.*t134.*(3.0./2.0)+GMS.*t69.*t76.*t94.*t129.*t137.*(3.0./2.0),t111-GME.*(t126-t140)-GMS.*(t128-t143)+GMM.*rsc_3.*t10.*t109.*3.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0];
    jac_x_dxdt = reshape([mt4,mt5],6,6);
end
